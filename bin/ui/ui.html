<html>
    <head>
        <title>Randar</title>
        <link href="ui.css" rel="stylesheet">

        <script src="https://unpkg.com/vue/dist/vue.js"></script>
        <!--<script src="vue.min.js"></script>-->
        <script src="underscore.min.js"></script>
        <script src="ui-helpers.js"></script>
        <script src="ui-components.js"></script>
        <script src="ui.js"></script>
        <script src="debug.js"></script>
    </head>

    <body>
        <main id="randar">

            <nav-main></nav-main>

            <settings-panel></settings-panel>

            <input-resource
                v-if="target.resource.category && !target.resource.id"
                :category="target.resource.category"
                @close="target.resource.category = null"
                @select="setTargetResource">
            </input-resource>

            <target-resource-panel>
                <template slot="textures" scope="props">
                    <table class="metadata">
                        <thead>
                            <tr>
                                <th colspan="2">{{ props.resource.name }}</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <th>Type</th>
                                <td>{{ props.resource.type }}</td>
                            </tr>

                            <tr>
                                <th>Dimensions</th>
                                <td>{{ props.resource.width }} x {{ props.resource.height }}
                            </tr>
                        </tbody>
                    </table>
                </template>

                <template slot="models" scope="props">
                    <table class="metadata">
                        <thead>
                            <tr>
                                <th colspan="2">{{ props.resource.name }}</th>
                            </tr>
                        </thead>
                        
                        <tbody>
                            <tr>
                                <th>Vertex Count</th>
                                <td>{{ props.resource.vertexCount }}</td>
                            </tr>

                            <tr>
                                <th>Face Count</th>
                                <td>{{ props.resource.faceCount }}</td>
                            </tr>
                        </tbody>
                    </table>

                    <table class="textures">
                        <thead>
                            <tr>
                                <th colspan="2">Textures</th>
                            </tr>
                        </thead>

                        <tbody v-if="props.resource.hasTextures">
                            <tr class="clickable" v-for="(textureId, textureSlotId) in props.resource.textures">
                                <th>#{{ textureSlotId }}</th>

                                <td v-if="props.textures[textureId]">
                                    {{ props.textures[textureId].name }}
                                </td>

                                <td v-else class="empty">Unassigned</td>
                            </tr>
                        </tbody>

                        <tbody v-else>
                            <tr>
                                <td>No texture slots</td>
                            </tr>
                        </tbody>
                    </table>
                </template>
            </target-resource-panel>

        </main>
    </body>
</html>
